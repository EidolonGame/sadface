<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>spr_planet</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>obj_clickable</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>//Reference variable for who owns the tile
owner = -1

//State; whether selected or not
select = false

//Name of the tile
name = ""

//Variable containing all tile info
info="oh yeah!!1"
desc = ""

//A variable to see if the mouse is hovering above, so we can see the name
visibleName = 0

//Population and Resources
pop = 0;
resources[6] = 0; //Setting index 6 to 0 sets the rest to 0
resources[0] = 15


//Array used to keep track of ships on tile, two because two factions ships can be on same
//tile
fleets[0] = noone
fleets[1] = noone

//Sprite of the tile
picture = sprite_index

//Collection Rate
rate = 0;

//Timer for resource collection; will reset everytime addition to reserve is made
timer = 0;

//Time interval of depletion in seconds
deplrate = 5;
//Amount of depletion
depletion = 3

lastsecond = 0
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>// Resources will be depleted by a unit of 3 every 5 seconds



if (floor(global.seconds) != lastsecond &amp;&amp; floor(global.seconds) % deplrate == 0 &amp;&amp; owner != -1) {
    lastsecond = floor(global.seconds);
    for (i = 0; i &lt; 7; i++) {
        if (resources[i] &lt; depletion) {
            owner.stockpile[i] += resources[i];
            resources[i] = 0;
        }
        else {
            resources[i] -= depletion;
            owner.stockpile[i] += depletion;
        }
    }
    //show_debug_message("Stockpile 0: " + string(owner.stockpile[0]))
}

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="5" enumb="65">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if (select){
    if (fleets[0] == noone)
    {
        fleets[0] = instance_create(x+sprite_width/2,y+sprite_height/2,obj_ship)
        
        
    }
    else if (fleets[1] == noone)
    {
        fleets[1] =  instance_create(x+10,y+10,obj_ship)
    }
}

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="6" enumb="11">
      <action>
        <libid>1</libid>
        <id>611</id>
        <kind>6</kind>
        <userelative>-1</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>visibleName</string>
          </argument>
          <argument>
            <kind>0</kind>
            <string>0</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="6" enumb="10">
      <action>
        <libid>1</libid>
        <id>611</id>
        <kind>6</kind>
        <userelative>-1</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>visibleName</string>
          </argument>
          <argument>
            <kind>0</kind>
            <string>1</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="6" enumb="5">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/*
*   Set target for ships
*/
if (obj_mouse.selected != noone){
    for (i = 0; i &lt; 2; i++){ //Used to switch between fleets[0] and fleets[1]
        var ship = obj_mouse.selected.fleets[i] //ship = the selected cell's ships
        if (ship == noone) continue //Skip to next ship, because there's nothing here
        if (ship.owner = obj_player.id){ 
            if (ship.select = true){ 
                ship.targetX = x  + sprite_width/2  //set target to target cell's middlepoint
                ship.targetY = y + sprite_height/2 
  
                break
            }
        }
    }
}



        


    
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="6" enumb="4">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>
if (!select){       //If this tile is not already selected 

    //If there was a previously selected tile
    if (obj_mouse.selected!=noone){
        obj_mouse.selected.select = false       //Set that tile's select variable to false
        
    }
    
    //Now we set the mouse's current selection as this using the instance ID
    obj_mouse.selected = id
    //Set our select to true and draw a selected tile
    select = true
    
    
}


else {              //If this tile happens to ALREADY be selected when clicked, we want to DESELECT it
    
    obj_mouse.selected = noone     //Tells the mouse to stop selecting this tile
    select = false              //Sets our select to false and draws an unselected tile
    
    
}


//scr_toggle_select_fleets(true)




</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if (select)
    draw_sprite(spr_selected_empty_tile,0,x,y)
else
    draw_sprite(spr_planet,0,x,y)  
    
if (visibleName == 1||select == 1){
    draw_set_colour(c_white)
    draw_set_halign(fa_center)
    draw_set_valign(fa_middle)
    draw_set_font(PText)
    draw_text(x+64,y+100,name)
}


if (owner == obj_player.id)
    draw_sprite(spr_owned_overlay,2,x,y)

    
draw_set_font(PText)
draw_text(x+50,y+50,resources[0])
draw_text(x+50,y+100,fleets[0])   


</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>2</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
